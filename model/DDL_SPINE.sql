CREATE METRIC L2 
USING EUCLIDEAN 
FOR PARTICULATE;

CREATE METRIC L1 
USING CITYBLOCK 
FOR PARTICULATE;

CREATE METRIC CANBERRA 
USING CANBERRA  
FOR PARTICULATE;

CREATE TABLE Spine40D (
    Id INTEGER,
    IdStudy INTEGER,
    Filename VARCHAR(255),
    Patient_Name VARCHAR(300),
    ReliefF PARTICULATE(40),
    Mask BLOB,
    Image_Type INTEGER,
    Image_Class INTEGER,
    Patient_Sex INTEGER,
    Patient_Age INTEGER,
    Menopause_Age INTEGER,
    Vertebrae INTEGER,
    DEXA FLOAT,
    BMD FLOAT,
    BMI FLOAT,
    Diagnosis INTEGER,
    PRIMARY KEY (Id),
    METRIC (ReliefF) USING (L2, L1, CANBERRA)
) ;



CREATE TABLE U_Spine40D (
    Id INTEGER,
    IdStudy INTEGER,
    Filename VARCHAR(255),
    Patient_Name VARCHAR(300),
    ReliefF PARTICULATE(40),
    Mask BLOB,
    Vertebrae INTEGER,
    url VARCHAR(300),
    PRIMARY KEY (Id),
    METRIC (ReliefF) USING (L2, L1, CANBERRA)
); 


INSERT INTO Scope (tableName,attributeName) VALUES ('Spine40D', 'Image_Class');
INSERT INTO Scope (tableName,attributeName) VALUES ('Spine40D', 'Patient_Age');
INSERT INTO Scope (tableName,attributeName) VALUES ('Spine40D', 'Menopause_Age');
INSERT INTO Scope (tableName,attributeName) VALUES ('Spine40D', 'DEXA');
INSERT INTO Scope (tableName,attributeName) VALUES ('Spine40D', 'BMD');
INSERT INTO Scope (tableName,attributeName) VALUES ('Spine40D', 'BMI');
INSERT INTO Scope (tableName,attributeName) VALUES ('Spine40D', 'Diagnosis');
INSERT INTO Scope (tableName,attributeName) VALUES ('Spine40D', 'Vertebrae');

INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'Image_Class', '0', 'Non-Fracture');
INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'Image_Class', '1', 'Fracture');

INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'Patient_Age', '99999', 'N/A');
INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'Menopause_Age', '99999', 'N/A');
INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'Menopause_Age', '0', 'N/A');
INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'Patient_Age', '0', 'N/A');
INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'DEXA', '99999', 'N/A');
INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'BMD', '99999', 'N/A');
INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'BMI', '99999', 'N/A');

INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'Diagnosis', '0', 'Normal');
INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'Diagnosis', '1', 'Osteopenia');
INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'Diagnosis', '2', 'Osteoporosis');

INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'Vertebrae', '1', 'L1');
INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'Vertebrae', '2', 'L2');
INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'Vertebrae', '3', 'L3');
INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'Vertebrae', '4', 'L4');
INSERT INTO Caption (tableN,attributeN,valueN,caption) VALUES ('Spine40D', 'Vertebrae', '5', 'L5');
    


INSERT INTO U_Spine40D (Id,IdStudy, Filename, Patient_Name, ReliefF, Mask, Vertebrae, url) VALUES (2,65,'vert/65-T2-S07-T12.jpg','P65', {0.0309533956983222,0.144272450328807,0.382620356373207,0.746676169567615,0.015633247865007,0.252444280359835,0.189752075572283,0.112301107274558,0.0895921939187928,0.521363135871077,0.245787508828574,0.650286562592961,0.108205798459102,0.552708324927532,0.139062989936694,0.303013371141471,0.121381616197598,0.469317213009693,0.760263797429665,0.0545755237045204,0.708806293874334,0.442978673654269,0.708806293874358,0.143562476262818,0.500020030214956,0.314619830665876,0.0318751422158816,0.608695652173913,0.00254641599518563,0.998897733521641,0.679758938800847,1.06467951617444,0.520804420090917,0.595965229130128,0.891782310243978,0.989056216714624,0.764498408056819,0.389051319785572,0.00931587401441205,0.574471967137194}, '', 12, '');
UPDATE U_Spine40D SET url='1.3.6.1.4.1.44316.6.102.1.2022030510732133.323727696100779931513' WHERE Id = 2;
UPDATE U_Spine40D SET Mask='AAhVYHja7d1BasMwFATQs8nFiy51it7/BikEmjq2G8kag0Pfo11kk8WHQfNll36Vz/L981EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYGWeSp2NAbKZkivIZ+r+C2QzJVcw6pEjuYKMRYbkCjL9b6cPAkf73/6eBQz2v41cVSOCsf63lSvPsGCs/23mSrZgqP8tMuc5FkT631Puqj0L2jPV2OtkC1p3qqkzg1vZ0g+hbadq27PcZ0DfTtWdLVPl3/e/8f74kyVnFYT3IHsVlGhf0/9gvP+tzz2ZQv+bZArCmarJ73JPgZ0qlgOZgvBOJVNQonfgMgXhncozKpApOEH6nsJEkSmZgij3FHDZTBWZguz7r+4pIL0H2alApuCUTHlHCXJkCq6bKfcUUPL36TIF/uYXTuh/V/wueOv+d8X9DN67/3mfAsL9L5QrmYJfZ1UgW+4pYNnbhv9nh50KwrmSKfg7W3YqOGPH6u5/xgcvc1V7MqX/QTBXnlNB29nTvmPJFLSfPy07ludUcCxX1U4F+R1r3sueOcHxHWt9ZtmpINAF56fMGRAEu6D+B7kz6/EZCJ1ZxZ06nNIFjQPCuTILyO5XJgExuh8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfW51z+ED' WHERE Id = 2;


